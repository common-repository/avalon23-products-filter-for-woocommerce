'use strict';Element.prototype.appendBefore=function(e){e.parentNode.insertBefore(this,e)},!1,Element.prototype.appendAfter=function(e){e.parentNode.insertBefore(this,e.nextSibling)},!1,String.prototype.format||(String.prototype.sprintf=function(){let e=arguments;return this.replace(/{(\d+)}/g,(t,a)=>"undefined"==typeof e[a]?t:e[a])});var avalon23_helper=new function(){return{prepare_ajax_form_data:function(e){const t=new FormData;return Object.keys(e).forEach(function(a){t.append(a,e[a])}),t},message:function(e,t="notice",a=0){0===a&&(a=1777);let n=null;document.querySelectorAll("#growls").length?n=document.getElementById("growls"):(n=document.createElement("div"),n.setAttribute("id","growls"),n.className="default",document.querySelector("body").appendChild(n));let l=this.create_id("m-"),r=document.createElement("div");r.className="growl growl-large growl-"+t,r.setAttribute("id",l);let d=document.createElement("div");d.className="growl-title";let i="";switch(t){case"warning":i=avalon23_helper_vars.lang.m_warning;break;case"error":i=avalon23_helper_vars.lang.m_error;break;default:i=avalon23_helper_vars.lang.m_notice;}d.innerHTML=i;let s=document.createElement("div");s.className="growl-message",s.innerHTML=e,r.appendChild(d),r.appendChild(s),n.innerHTML="",n.appendChild(r),r.addEventListener("click",function(t){return t.stopPropagation(),this.remove(),!1}),-1!==a&&setTimeout(function(){r.style.opacity=0,setTimeout(function(){r.remove()},777)},a)},create_id:function(e=""){return e+Math.random().toString(36).substring(7)},call_popup(e,t={},a="",n="",l={},r=""){let d=new Popup23(l);return d.set_title(n),d.set_title_info(r),a||(a=avalon23_helper.create_id("avalon23-")),fetch(avalon23_helper_vars.ajax_url,{method:"POST",credentials:"same-origin",body:avalon23_helper.prepare_ajax_form_data({action:"avalon23_get_smth",what:JSON.stringify({call_action:e,more_data:t}),call_id:a,lang:avalon23_helper_vars.selected_lang})}).then(e=>e.text()).then(e=>{"undefined"!=typeof t.not_paste&&t.not_paste&&d.set_content(e);let n=null;d.node.querySelector(".avalon23-filter.avalon23-filter-self-call")&&(n=new Avalon23_GeneratedTables(JSON.parse(d.node.querySelector(".avalon23-table-json-data").innerText),d.node.querySelector(".avalon23-table-json-data").getAttribute("data-table-id"))),document.dispatchEvent(new CustomEvent("avalon23-call-popup",{detail:{popup:d,call_id:a,data:e,generated_table:n}}))}).catch(e=>{avalon23_helper.message(e,"error",5e3)}),!1},draw_switcher(e,t,a,n){let l=this.create_id("sw"),r=document.createElement("div"),d=document.createElement("input");d.setAttribute("type","hidden"),d.setAttribute("name",e),d.setAttribute("value",t);let i=document.createElement("input");i.setAttribute("type","checkbox"),i.setAttribute("id",l),i.setAttribute("class","switcher23"),i.setAttribute("value",t),t&&i.setAttribute("checked",!0),i.setAttribute("data-post-id",a),i.setAttribute("data-event",n);let s=document.createElement("label");s.setAttribute("for",l),s.setAttribute("class","switcher23-toggle"),s.innerHTML="<span></span>";let c=document.createElement("p");c.innerText=e,c.className="av23_wcag_hidden",s.appendChild(c);let o=this.create_id("av23");d.setAttribute("id",o);let _=document.createElement("label");return _.innerText=e,_.setAttribute("for",o),_.className="av23_wcag_hidden",r.appendChild(_),r.appendChild(d),r.appendChild(i),r.appendChild(s),r},init_switcher(e){e.addEventListener("click",function(t){if(t.stopPropagation(),0<this.value?(this.value=0,this.previousSibling.value=0,this.removeAttribute("checked")):(this.value=1,this.previousSibling.value=1,this.setAttribute("checked","checked")),0<this.getAttribute("data-event").length){let e={self:this,ajax_action:this.getAttribute("data-ajax-action"),name:this.previousSibling.getAttribute("name"),posted_id:this.getAttribute("data-post-id"),value:parseInt(this.value,10),custom_data:null};this.getAttribute("data-custom-data")&&0<this.getAttribute("data-custom-data").length&&(e.custom_data=JSON.parse(this.getAttribute("data-custom-data"))),document.dispatchEvent(new CustomEvent(this.getAttribute("data-event"),{detail:e}))}return!0})},get_loader_html(){return`<div class="avalon23-place-loader">${avalon23_helper_vars.lang.loading}</div><br />`},is_json(e){try{JSON.parse(e)}catch(t){return!1}return!0}}};class Calendar23{constructor(e,t=null,a=null,n={}){this.scene=0,this.month_names=["January","February","March","April","May","June","July","August","September","October","November","December"],this.month_names_short=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],this.day_names=["Mo","Tu","We","Th","Fr","Sa","Su"],"undefined"!=typeof n.calendar_names&&("undefined"!=typeof n.calendar_names.month_names&&(this.month_names=n.calendar_names.month_names),"undefined"!=typeof n.calendar_names.month_names_short&&(this.month_names_short=n.calendar_names.month_names_short),"undefined"!=typeof n.calendar_names.day_names&&(this.day_names=n.calendar_names.day_names)),"undefined"!=typeof n.month_names&&(this.month_names=n.month_names),"undefined"!=typeof n.month_names_short&&(this.month_names_short=n.month_names_short),"undefined"!=typeof n.day_names&&(this.day_names=n.day_names),this.calendar_id=t,this.calendar_id||(this.calendar_id=avalon23_helper.create_id("calendar-")),this.current_date=a?new Date(1e3*a):new Date,this.today=new Date,this.selected_date=null,this.container=e,this.cells=[],this.fill_container()}fill_container(){switch(this.cells=[],this.container.innerHTML="",this.scene){case 1:this.fill_scene_1();break;case 2:this.fill_scene_2();break;default:this.fill_scene_0();}}get_prev_month_days_count(){let e=this.get_month()-1,t=this.get_year();return 0>e&&(e=11,t--),new Date(t,e+1,0).getDate()}get_month(){return this.current_date.getMonth()}get_year(){return this.current_date.getFullYear()}get_days_in_month(){return new Date(this.get_year(),this.get_month()+1,0).getDate()}create_label_0(){let e=document.createElement("div");e.className="calendar23-label";let t=document.createElement("span");t.innerText=this.month_names[this.get_month()]+" "+this.get_year(),e.appendChild(t),t.addEventListener("click",t=>(t.stopPropagation(),this.scene=1,this.fill_container(),!1));let a=document.createElement("a");a.setAttribute("href","#"),a.className="calendar23-prev",a.addEventListener("click",t=>{t.stopPropagation(),t.preventDefault();let e=this.get_month()-1,a=this.get_year();return 0>e&&(e=11,a--),this.current_date=new Date(a,e,1),this.fill_container(),!1}),e.appendChild(a);let n=document.createElement("a");return n.setAttribute("href","#"),n.className="calendar23-next",n.addEventListener("click",t=>{t.stopPropagation(),t.preventDefault();let e=this.get_month()+1,a=this.get_year();return 11<e&&(e=0,a++),this.current_date=new Date(a,e,1),this.fill_container(),!1}),e.appendChild(n),e}fill_scene_0(){let e=document.createElement("div");e.className="calendar23-month",e.appendChild(this.create_label_0());for(let t,a=0;7>a;++a)t=document.createElement("div"),t.className="calendar23-dow",t.innerText=this.day_names[a],e.appendChild(t);for(let t=0;42>t;++t)this.cells[t]=document.createElement("div"),e.appendChild(this.cells[t]);this.container.appendChild(e);let t=new Date(this.get_year(),this.get_month(),1).getDay()-1;0>t&&(t=6);let a=1;for(let e,n=t;n<this.get_days_in_month()+t;++n){e=new Date(this.get_year(),this.get_month(),a),this.cells[n].innerText=a,this.cells[n].className="calendar23-day",this.cells[n].setAttribute("data-date",e.getTime()/1e3),[0,6].includes(new Date(this.get_year(),this.get_month(),a).getDay())&&this.cells[n].classList.add("calendar23-weekend"),this.today.getDate()===a&&this.today.getMonth()===this.get_month()&&this.today.getFullYear()===this.get_year()&&this.cells[n].classList.add("calendar23-today"),null!==this.selected_date&&this.selected_date.getDate()===a&&this.selected_date.getMonth()===this.get_month()&&this.selected_date.getFullYear()===this.get_year()&&this.cells[n].classList.add("calendar23-focused"),a++;let t=this;this.cells[n].addEventListener("click",function(a){a.stopPropagation(),t.current_date=new Date(1e3*this.getAttribute("data-date")),t.selected_date=new Date(1e3*this.getAttribute("data-date"));for(let e=0;e<t.cells.length;e++)if(t.cells[e].classList.contains("calendar23-focused")){t.cells[e].classList.remove("calendar23-focused");break}return this.classList.add("calendar23-focused"),document.dispatchEvent(new CustomEvent("calendar23-date-selected",{detail:{date:this.getAttribute("data-date"),calendar_id:t.calendar_id}})),!1})}for(let e=0;e<t;++e)this.cells[e].className="calendar23-dummy-day",this.cells[e].innerText=this.get_prev_month_days_count()-t+e+1;let n=1;for(let e=0;42>e;++e)0===this.cells[e].innerText.length&&(this.cells[e].className="calendar23-dummy-day",this.cells[e].innerText=n++);let l=!0;for(let e=35;42>e;e++)if(!this.cells[e].classList.contains("calendar23-dummy-day")){l=!1;break}if(l)for(let e=35;42>e;e++)this.cells[e].remove()}create_label_1(){let e=document.createElement("div");e.className="calendar23-label";let t=document.createElement("span");t.innerText=this.get_year(),e.appendChild(t),t.addEventListener("click",t=>(t.stopPropagation(),this.scene=2,this.fill_container(),!1));let a=document.createElement("a");a.setAttribute("href","#"),a.className="calendar23-prev",a.addEventListener("click",t=>(t.stopPropagation(),t.preventDefault(),this.current_date=new Date(this.get_year()-1,this.get_month(),1),this.fill_container(),!1)),e.appendChild(a);let n=document.createElement("a");return n.setAttribute("href","#"),n.className="calendar23-next",n.addEventListener("click",t=>(t.stopPropagation(),t.preventDefault(),this.current_date=new Date(this.get_year()+1,this.get_month(),1),this.fill_container(),!1)),e.appendChild(n),e}fill_scene_1(){let e=document.createElement("div");e.className="calendar23-month",e.appendChild(this.create_label_1());for(let t=0;12>t;++t){this.cells[t]=document.createElement("div"),this.cells[t].className="calendar23-big calendar23-day",this.cells[t].setAttribute("data-month",t),this.cells[t].innerText=this.month_names_short[t],this.today.getMonth()===t&&this.today.getFullYear()===this.get_year()&&this.cells[t].classList.add("calendar23-today"),e.appendChild(this.cells[t]);let a=this;this.cells[t].addEventListener("click",function(t){return t.stopPropagation(),a.current_date.setMonth(this.getAttribute("data-month")),a.scene=0,a.fill_container(),!1})}this.container.appendChild(e)}create_label_2(){let e=document.createElement("div");e.className="calendar23-label";let t=document.createElement("span");t.innerText=this.get_year()+" - "+(this.get_year()+12-1),e.appendChild(t);let a=document.createElement("a");a.setAttribute("href","#"),a.className="calendar23-prev",a.addEventListener("click",t=>(t.stopPropagation(),t.preventDefault(),this.current_date=new Date(this.get_year()-12,this.get_month(),1),this.fill_container(),!1)),e.appendChild(a);let n=document.createElement("a");return n.setAttribute("href","#"),n.className="calendar23-next",n.addEventListener("click",t=>(t.stopPropagation(),t.preventDefault(),this.current_date=new Date(this.get_year()+12,this.get_month(),1),this.fill_container(),!1)),e.appendChild(n),e}fill_scene_2(){let t=this,a=document.createElement("div");a.className="calendar23-month",a.appendChild(this.create_label_2());for(let e=this.get_year();e<this.get_year()+12;++e)this.cells[e]=document.createElement("div"),this.cells[e].className="calendar23-big calendar23-day",this.cells[e].setAttribute("data-year",e),this.cells[e].innerText=e,this.today.getFullYear()===e&&this.cells[e].classList.add("calendar23-today"),a.appendChild(this.cells[e]),this.cells[e].addEventListener("click",function(a){return a.stopPropagation(),t.current_date.setFullYear(this.getAttribute("data-year")),t.scene=1,t.fill_container(),!1});this.container.appendChild(a)}}class Calendar23_Selector{constructor(e=null,t=null,a="",n={}){let l=this;if(this.unix_time_stamp=null,this.placeholder=a,this.calendar_names=n,!e){if(!document.querySelectorAll(".calendar23-selector").length)return;document.querySelectorAll(".calendar23-selector").forEach(e=>{this.init(e,t)})}else this.init(e,t);this.input.addEventListener("focus",function(t){return t.stopPropagation(),l.calendar_wrapper.style.display=l.calendar_wrapper.style.display&&"none"!==l.calendar_wrapper.style.display?"none":"block",this.blur(),!0}),document.addEventListener("click",t=>{let e=!0;t.target.closest(".calendar23-selector")&&(e=!1),t.target.closest(".calendar23-month")&&(e=!1),e&&(this.calendar_wrapper.style.display="none")}),document.addEventListener("calendar23-date-selected",t=>{if(t.stopPropagation(),this.calendar_id===t.detail.calendar_id){let e=t.detail.date;this.input.setAttribute("data-selected-date",e),this.input.setAttribute("value",e),this.set_input_value(e),this.calendar_wrapper.style.display="none",this.unix_time_stamp=e,this.selected(),document.dispatchEvent(new CustomEvent("calendar23_selector_date_selected",{detail:{date:e,selector:this}}))}})}selected(){}init(e,t){this.draw_html(e),this.input=e.querySelector(".calendar23-data-input"),this.calendar_wrapper=e.querySelector(".calendar23-calendar-wrapper"),this.calendar_id=avalon23_helper.create_id("calendar23-"),0<this.input.getAttribute("data-selected-date").length&&(this.unix_time_stamp=parseInt(this.input.getAttribute("data-selected-date"),10)),t&&(this.unix_time_stamp=t),this.unix_time_stamp&&this.set_input_value(this.unix_time_stamp),this.calendar=new Calendar23(this.calendar_wrapper.querySelector("div"),this.calendar_id,this.unix_time_stamp,{calendar_names:this.calendar_names})}set_input_value(e){this.input.value=document.querySelector("html").getAttribute("lang")?new Date(1e3*e).toLocaleDateString(document.querySelector("html").getAttribute("lang"),{year:"numeric",month:"long",day:"numeric"}):new Date(1e3*e).toLocaleDateString()}draw_html(e){let t=document.createElement("input");t.setAttribute("type","text"),t.setAttribute("readonly","readonly"),t.className="calendar23-data-input",t.setAttribute("data-selected-date",""),t.setAttribute("value",""),t.setAttribute("placeholder",this.placeholder),e.hasAttribute("data-date")&&t.setAttribute("data-selected-date",e.getAttribute("data-date")),e.hasAttribute("data-name")&&t.setAttribute("name",e.getAttribute("data-name"));let a=document.createElement("div");a.className="calendar23-calendar-wrapper";let n=document.createElement("div"),l="av23_"+Math.random().toString(36).substr(2,4);let r=document.createElement("label");r.setAttribute("for",l),r.innerText=this.placeholder,r.className="av23_wcag_hidden",e.appendChild(r),t.id=l,a.appendChild(n),e.appendChild(t),e.appendChild(a)}}class Ranger23{constructor(e,t=null,a=30){this.cast_id=t,this.cast_id||(this.cast_id="slider-"+new Date().getTime()),this.dragged=null,this.track=e,this.handler_width=a,this.min=parseInt(this.track.dataset.min),this.max=parseInt(this.track.dataset.max),this.prev_selected_left_val=this.selected_left_val=parseInt(this.track.dataset.selectedMin),this.prev_selected_right_val=this.selected_right_val=parseInt(this.track.dataset.selectedMax),this.is_mobile="ontouchstart"in document.documentElement,this.event_click=this.is_mobile?"click":"click",this.event_mousedown=this.is_mobile?"touchstart":"mousedown",this.event_mouseup=this.is_mobile?"touchend":"mouseup",this.event_mouseout=this.is_mobile?"touchcancel":"mouseout",this.event_mousemove=this.is_mobile?"touchmove":"mousemove",this.container=document.createElement("div"),this.container.className="ranger23-container",this.handler_left=document.createElement("div"),this.handler_left.className="ranger23-handler-left",this.handler_left.innerHTML="<span></span>",this.handler_right=document.createElement("div"),this.handler_right.className="ranger23-handler-right",this.handler_right.innerHTML="<span></span>",this.handler_min=document.createElement("div"),this.handler_min.className="ranger23-min",this.handler_max=document.createElement("div"),this.handler_max.className="ranger23-max",this.bar=document.createElement("div"),this.bar.className="ranger23-bar",this.container.appendChild(this.handler_min),this.container.appendChild(this.handler_left),this.container.appendChild(this.bar),this.container.appendChild(this.handler_right),this.container.appendChild(this.handler_max),this.track.appendChild(this.container),this.container_x=this.container.getBoundingClientRect().x,this.container_width=this.container.getBoundingClientRect().width,this.max_track=parseInt(this.container_width)-2*this.handler_width,this.init_math(),this.init_events(),this.redraw_bar(),window.addEventListener("resize",()=>{this.resize()})}resize(){this.container_x=this.container.getBoundingClientRect().x,this.container_width=this.container.getBoundingClientRect().width,this.max_track=parseInt(this.container_width)-2*this.handler_width,this.init_math(),this.redraw_bar()}init_math(){this.handler_left.style.left=this.selected_left_val>this.min?this.calculate_left_distance(this.selected_left_val)+"px":0,this.handler_right.style.left=this.selected_right_val<this.max?this.calculate_right_distance(this.selected_right_val)+"px":this.container_width-this.handler_width+"px",this.__reset_handlers_view_values(),this.handler_min.innerHTML=this.min,this.handler_max.innerHTML=this.max}init_events(){this.handler_min.addEventListener(this.event_click,()=>{this.handler_left.style.left=0,this.handler_left.querySelector("span").innerHTML=this.selected_left_val=this.min,this.cast()}),this.handler_max.addEventListener(this.event_click,()=>{this.handler_right.style.left=this.container_width-this.handler_width+"px",this.handler_right.querySelector("span").innerHTML=this.selected_right_val=this.max,this.cast()}),this.handler_right.addEventListener(this.event_mousedown,t=>{this.dragged=t.target.parentElement,this.dragged.style.zIndex=2}),this.handler_left.addEventListener(this.event_mousedown,t=>{this.dragged=t.target.parentElement,this.dragged.style.zIndex=2}),this.handler_right.addEventListener(this.event_mousemove,()=>{this.__reset_handlers_view_values()}),this.handler_left.addEventListener(this.event_mousemove,()=>{this.__reset_handlers_view_values()}),this.container.addEventListener(this.event_mouseout,()=>{this.__reset_handlers_view_values()}),document.addEventListener(this.event_mousemove,t=>{if(this.dragged&&this.container){let e=t.pageX-this.handler_width/2;if(this.is_mobile&&(e=t.touches[0].clientX-this.handler_width/2),e>=this.container_x&&e<=this.container_x+this.container_width-this.handler_width){let t=e-this.container_x,a=!0;this.dragged===this.handler_left?t+this.handler_width-1>=this.handler_right.offsetLeft&&(a=!1):t-this.handler_width<=this.handler_left.offsetLeft&&(a=!1),a&&(this.dragged.style.left=t+"px",this.calculate(),this.redraw_bar())}else this.dragged===this.handler_left?(this.handler_left.style.left=0,this.handler_left.querySelector("span").innerHTML=this.selected_left_val=this.min):(this.handler_right.style.left=this.container_width-this.handler_width+"px",this.handler_right.querySelector("span").innerHTML=this.selected_right_val=this.max),this.redraw_bar()}}),document.addEventListener(this.event_mouseup,()=>{this.dragged&&this.container&&(this.dragged.onmouseup=null,this.dragged.style.zIndex=1,this.dragged=null,this.is_mobile&&(this.handler_min.innerHTML=this.min,this.handler_max.innerHTML=this.max),this.cast())}),this.init_events_container()}init_events_container(){this.container.addEventListener(this.event_mousemove,t=>{if(t.target===this.container&&!this.dragged){let e=t.clientX-this.container_x;e<this.handler_left.offsetLeft&&(this.handler_left.querySelector("span").innerHTML=this.calculate_left_value(e)),e>this.handler_right.offsetLeft&&(e-=this.handler_width,this.handler_right.querySelector("span").innerHTML=this.calculate_right_value(e))}}),this.container.addEventListener(this.event_click,t=>{if(t.target===this.container&&!this.dragged){let e=t.clientX-this.container_x;e<this.handler_left.offsetLeft&&(this.handler_left.querySelector("span").innerHTML=this.selected_left_val=this.calculate_left_value(e),this.handler_left.style.left=e+"px"),e>this.handler_right.offsetLeft&&(e-=this.handler_width,this.handler_right.querySelector("span").innerHTML=this.selected_right_val=this.calculate_right_value(e),this.handler_right.style.left=e+"px"),this.cast()}}),this.bar.addEventListener(this.event_mousemove,t=>{if(t.target===this.bar&&!this.dragged){let e=t.clientX-this.container_x;e>this.handler_left.offsetLeft&&e<this.handler_right.offsetLeft&&(e-this.handler_left.offsetLeft-this.handler_width<this.handler_right.offsetLeft-e?(e-=this.handler_width,this.handler_left.querySelector("span").innerHTML=this.calculate_left_value(e)):this.handler_right.querySelector("span").innerHTML=this.calculate_right_value(e))}}),this.container.addEventListener("mouseleave",()=>{this.__reset_handlers_view_values()}),this.bar.addEventListener(this.event_click,t=>{if(t.target===this.bar&&!this.dragged){let e=t.clientX-this.container_x;e>this.handler_left.offsetLeft&&e<this.handler_right.offsetLeft&&(e-this.handler_left.offsetLeft-this.handler_width<this.handler_right.offsetLeft-e?(e-=this.handler_width,this.handler_left.querySelector("span").innerHTML=this.selected_left_val=this.calculate_left_value(e),this.handler_left.style.left=e+"px"):(this.handler_right.querySelector("span").innerHTML=this.selected_right_val=this.calculate_right_value(e),this.handler_right.style.left=e+"px")),this.cast()}})}calculate_left_value(e){return Math.ceil(parseFloat(e/this.max_track)*(this.max-this.min)+this.min)}calculate_left_distance(e){return Math.floor(parseFloat((e-this.min)/(this.max-this.min))*this.max_track)}calculate_right_value(e){return Math.ceil(parseFloat(e/this.max_track)*(this.max-this.min)+this.min-parseFloat(this.handler_width/this.max_track)*(this.max-this.min))}calculate_right_distance(e){return Math.floor(parseFloat((e+parseFloat(this.handler_width/this.max_track)*(this.max-this.min)-this.min)/(this.max-this.min)*this.max_track))}__reset_handlers_view_values(){this.handler_left.querySelector("span").innerHTML=this.selected_left_val,this.handler_right.querySelector("span").innerHTML=this.selected_right_val}calculate(){let e=parseInt(this.dragged.style.left);this.dragged===this.handler_left&&(this.handler_left.querySelector("span").innerHTML=this.selected_left_val=this.calculate_left_value(e),this.is_mobile&&(this.handler_min.innerHTML=this.selected_left_val)),this.dragged===this.handler_right&&(this.handler_right.querySelector("span").innerHTML=this.selected_right_val=this.calculate_right_value(e),this.is_mobile&&(this.handler_max.innerHTML=this.selected_right_val)),this.selected_left_val>this.selected_right_val&&(this.handler_left.querySelector("span").innerHTML=this.selected_left_val=this.selected_right_val),this.selected_right_val<this.selected_left_val&&(this.handler_right.querySelector("span").innerHTML=this.selected_right_val=this.selected_left_val)}redraw_bar(){this.bar.style.left=this.handler_left.offsetLeft+this.handler_width-1+"px",this.bar.style.width=this.handler_right.offsetLeft-this.handler_left.offsetLeft-this.handler_width+1+"px",this.selected_left_val===this.selected_right_val?this.bar.classList.add("ranger23-bar-var-equal"):this.bar.classList.remove("ranger23-bar-var-equal")}cast(){this.redraw_bar(),(this.prev_selected_left_val!==this.selected_left_val||this.prev_selected_right_val!==this.selected_right_val)&&(this.prev_selected_left_val=this.selected_left_val,this.prev_selected_right_val=this.selected_right_val,document.dispatchEvent(new CustomEvent("ranger23-update",{detail:{cast_id:this.cast_id,self:this,from:this.selected_left_val,to:this.selected_right_val,min:this.min,max:this.max}})))}remove(){this.container.remove()}}class TaxRanger23{constructor(e,t=null,a=30){this.cast_id=t,this.cast_id||(this.cast_id="slider-"+new Date().getTime()),this.dragged=null,this.track=e,this.handler_width=a,this.min=parseInt(this.track.dataset.min),this.max=parseInt(this.track.dataset.max),this.prev_selected_left_val=this.selected_left_val=parseInt(this.track.dataset.selectedMin),this.prev_selected_right_val=this.selected_right_val=parseInt(this.track.dataset.selectedMax),this.titles=this.track.dataset.titles.split("|"),this.is_mobile="ontouchstart"in document.documentElement,this.event_click=this.is_mobile?"click":"click",this.event_mousedown=this.is_mobile?"touchstart":"mousedown",this.event_mouseup=this.is_mobile?"touchend":"mouseup",this.event_mouseout=this.is_mobile?"touchcancel":"mouseout",this.event_mousemove=this.is_mobile?"touchmove":"mousemove",this.container=document.createElement("div"),this.container.className="ranger23-container",this.handler_left=document.createElement("div"),this.handler_left.className="ranger23-handler-left",this.handler_left.innerHTML="<span></span>",this.handler_right=document.createElement("div"),this.handler_right.className="ranger23-handler-right",this.handler_right.innerHTML="<span></span>",this.handler_min=document.createElement("div"),this.handler_min.className="ranger23-min",this.handler_max=document.createElement("div"),this.handler_max.className="ranger23-max",this.bar=document.createElement("div"),this.bar.className="ranger23-bar",this.container.appendChild(this.handler_min),this.container.appendChild(this.handler_left),this.container.appendChild(this.bar),this.container.appendChild(this.handler_right),this.container.appendChild(this.handler_max),this.track.appendChild(this.container),this.container_x=this.container.getBoundingClientRect().x,this.container_width=this.container.getBoundingClientRect().width,this.max_track=parseInt(this.container_width)-2*this.handler_width,this.init_math(),this.init_events(),this.redraw_bar(),window.addEventListener("resize",()=>{this.resize()})}resize(){this.container_x=this.container.getBoundingClientRect().x,this.container_width=this.container.getBoundingClientRect().width,this.max_track=parseInt(this.container_width)-2*this.handler_width,this.init_math(),this.redraw_bar()}init_math(){this.handler_left.style.left=this.selected_left_val>this.min?this.calculate_left_distance(this.selected_left_val)+"px":0,this.handler_right.style.left=this.selected_right_val<this.max?this.calculate_right_distance(this.selected_right_val)+"px":this.container_width-this.handler_width+"px",this.__reset_handlers_view_values(),this.handler_min.innerHTML=this.titles[this.min],this.handler_max.innerHTML=this.titles[this.max]}init_events(){this.handler_min.addEventListener(this.event_click,()=>{this.handler_left.style.left=0,this.selected_left_val=this.min,this.handler_left.querySelector("span").innerHTML=this.titles[this.min],this.cast()}),this.handler_max.addEventListener(this.event_click,()=>{this.handler_right.style.left=this.container_width-this.handler_width+"px",this.selected_right_val=this.max,this.handler_right.querySelector("span").innerHTML=this.titles[this.max],this.cast()}),this.handler_right.addEventListener(this.event_mousedown,t=>{this.dragged=t.target.parentElement,this.dragged.style.zIndex=2}),this.handler_left.addEventListener(this.event_mousedown,t=>{this.dragged=t.target.parentElement,this.dragged.style.zIndex=2}),this.handler_right.addEventListener(this.event_mousemove,()=>{this.__reset_handlers_view_values()}),this.handler_left.addEventListener(this.event_mousemove,()=>{this.__reset_handlers_view_values()}),this.container.addEventListener(this.event_mouseout,()=>{this.__reset_handlers_view_values()}),document.addEventListener(this.event_mousemove,t=>{if(this.dragged&&this.container){let e=t.pageX-this.handler_width/2;if(this.is_mobile&&(e=t.touches[0].clientX-this.handler_width/2),e>=this.container_x&&e<=this.container_x+this.container_width-this.handler_width){let t=e-this.container_x,a=!0;this.dragged===this.handler_left?t+this.handler_width-1>=this.handler_right.offsetLeft&&(a=!1):t-this.handler_width<=this.handler_left.offsetLeft&&(a=!1),a&&(this.dragged.style.left=t+"px",this.calculate(),this.redraw_bar())}else this.dragged===this.handler_left?(this.handler_left.style.left=0,this.selected_left_val=this.min,this.handler_left.querySelector("span").innerHTML=this.titles[this.min]):(this.handler_right.style.left=this.container_width-this.handler_width+"px",this.selected_right_val=this.max,this.handler_right.querySelector("span").innerHTML=this.titles[this.max]),this.redraw_bar()}}),document.addEventListener(this.event_mouseup,()=>{this.dragged&&this.container&&(this.dragged.onmouseup=null,this.dragged.style.zIndex=1,this.dragged=null,this.is_mobile&&(this.handler_min.innerHTML=this.min,this.handler_max.innerHTML=this.max),this.cast())}),this.init_events_container()}init_events_container(){this.container.addEventListener(this.event_mousemove,t=>{if(t.target===this.container&&!this.dragged){let e=t.clientX-this.container_x;e<this.handler_left.offsetLeft&&(this.handler_left.querySelector("span").innerHTML=this.titles[this.calculate_left_value(e)]),e>this.handler_right.offsetLeft&&(e-=this.handler_width,this.handler_right.querySelector("span").innerHTML=this.titles[this.calculate_right_value(e)])}}),this.container.addEventListener(this.event_click,t=>{if(t.target===this.container&&!this.dragged){let e=t.clientX-this.container_x;e<this.handler_left.offsetLeft&&(this.selected_left_val=this.calculate_left_value(e),this.handler_left.querySelector("span").innerHTML=this.titles[this.calculate_left_value(e)],this.handler_left.style.left=e+"px"),e>this.handler_right.offsetLeft&&(e-=this.handler_width,this.selected_right_val=this.calculate_right_value(e),this.handler_right.querySelector("span").innerHTML=this.titles[this.calculate_right_value(e)],this.handler_right.style.left=e+"px"),this.cast()}}),this.bar.addEventListener(this.event_mousemove,t=>{if(t.target===this.bar&&!this.dragged){let e=t.clientX-this.container_x;e>this.handler_left.offsetLeft&&e<this.handler_right.offsetLeft&&(e-this.handler_left.offsetLeft-this.handler_width<this.handler_right.offsetLeft-e?(e-=this.handler_width,this.handler_left.querySelector("span").innerHTML=this.titles[this.calculate_left_value(e)]):this.handler_right.querySelector("span").innerHTML=this.titles[this.calculate_right_value(e)])}}),this.container.addEventListener("mouseleave",()=>{this.__reset_handlers_view_values()}),this.bar.addEventListener(this.event_click,t=>{if(t.target===this.bar&&!this.dragged){let e=t.clientX-this.container_x;e>this.handler_left.offsetLeft&&e<this.handler_right.offsetLeft&&(e-this.handler_left.offsetLeft-this.handler_width<this.handler_right.offsetLeft-e?(e-=this.handler_width,this.selected_left_val=this.calculate_left_value(e),this.handler_left.querySelector("span").innerHTML=this.titles[this.selected_left_val],this.handler_left.style.left=e+"px"):(this.selected_right_val=this.calculate_right_value(e),this.handler_right.querySelector("span").innerHTML=this.titles[this.selected_right_val],this.handler_right.style.left=e+"px")),this.cast()}})}calculate_left_value(e){return Math.ceil(parseFloat(e/this.max_track)*(this.max-this.min)+this.min)}calculate_left_distance(e){return Math.floor(parseFloat((e-this.min)/(this.max-this.min))*this.max_track)}calculate_right_value(e){return Math.ceil(parseFloat(e/this.max_track)*(this.max-this.min)+this.min-parseFloat(this.handler_width/this.max_track)*(this.max-this.min))}calculate_right_distance(e){return Math.floor(parseFloat((e+parseFloat(this.handler_width/this.max_track)*(this.max-this.min)-this.min)/(this.max-this.min)*this.max_track))}__reset_handlers_view_values(){this.handler_left.querySelector("span").innerHTML=this.titles[this.selected_left_val],this.handler_right.querySelector("span").innerHTML=this.titles[this.selected_right_val]}calculate(){let e=parseInt(this.dragged.style.left);this.dragged===this.handler_left&&(this.selected_left_val=this.calculate_left_value(e),this.handler_left.querySelector("span").innerHTML=this.titles[this.selected_left_val],this.is_mobile&&(this.handler_min.innerHTML=this.selected_left_val)),this.dragged===this.handler_right&&(this.selected_right_val=this.calculate_right_value(e),this.handler_right.querySelector("span").innerHTML=this.titles[this.selected_right_val],this.is_mobile&&(this.handler_max.innerHTML=this.titles[this.selected_right_val])),this.selected_left_val>this.selected_right_val&&(this.selected_left_val=this.selected_right_val,this.handler_left.querySelector("span").innerHTML=this.titles[this.selected_left_val]),this.selected_right_val<this.selected_left_val&&(this.selected_right_val=this.selected_left_val,this.handler_right.querySelector("span").innerHTML=this.titles[this.selected_right_val])}redraw_bar(){this.bar.style.left=this.handler_left.offsetLeft+this.handler_width-1+"px",this.bar.style.width=this.handler_right.offsetLeft-this.handler_left.offsetLeft-this.handler_width+1+"px",this.selected_left_val===this.selected_right_val?this.bar.classList.add("ranger23-bar-var-equal"):this.bar.classList.remove("ranger23-bar-var-equal")}cast(){this.redraw_bar(),(this.prev_selected_left_val!==this.selected_left_val||this.prev_selected_right_val!==this.selected_right_val)&&(this.prev_selected_left_val=this.selected_left_val,this.prev_selected_right_val=this.selected_right_val,document.dispatchEvent(new CustomEvent("ranger23-update",{detail:{cast_id:this.cast_id,self:this,from:this.selected_left_val,to:this.selected_right_val,min:this.min,max:this.max}})))}remove(){this.container.remove()}redraw_labels(){}}class SelectM23{constructor(e,t=!1,a=""){if(!e.hasAttribute("multiple"))return!1;this.selected_values=[],this.use_drag=t,this.placeholder=a,e.hasAttribute("data-use-drag")&&(parseInt(e.getAttribute("data-use-drag"),10)?this.use_drag=!0:this.use_drag=!1),this.dragged_element=null,this.ghost=null,this.ghost_delay_timer=null,this.is_mobile="ontouchstart"in document.documentElement,this.select=e,this.hide(this.select),this.wrapper=document.createElement("div"),this.wrapper.className="selectm23",this.select.after(this.wrapper),this.wrapper.appendChild(this.select),this.set_placeholder(),this.selecton=document.createElement("span"),this.selecton.className="selectm23-selecton",this.wrapper.appendChild(this.selecton),this.input=document.createElement("input"),this.input.className="selectm23-input selectm23-hidden",this.input.setAttribute("type","text"),this.input.setAttribute("autocomplete","off"),this.wrapper.appendChild(this.input);let n="av23_select"+Math.random().toString(36).substr(2,4),l=document.createElement("label"),r=document.createElement("label");l.setAttribute("for",n),r.setAttribute("for",n+"_input"),l.innerText=this.placeholder,r.innerText=this.placeholder,l.className="av23_wcag_hidden",r.className="av23_wcag_hidden",this.select.id=n,this.input.id=n+"_input",this.wrapper.appendChild(r),this.wrapper.appendChild(l),this.options=document.createElement("div"),this.options.className="selectm23-options selectm23-hidden",this.wrapper.appendChild(this.options),this.select.querySelectorAll("option").forEach(e=>{if("selectm23-exclude"===e.value)return void e.remove();let t=document.createElement("div");return t.className="selectm23-option",t.setAttribute("data-value",e.value),t.innerHTML=e.innerText,e.hasAttribute("selected")&&this.hide(t),this.options.appendChild(t),e.disabled?void(t.style.opacity="0.4"):void t.addEventListener(this.is_mobile?"touchstart":"click",()=>(this.add_selected(t),this.input.focus(),!0))}),this.wrapper.addEventListener(this.is_mobile?"touchstart":"click",()=>(this.show_options(),this.show(this.input),this.input.focus(),!0)),this.input.addEventListener(this.is_mobile?"touchstart":"click",()=>(this.input.focus(),this.show_options(),!0)),document.addEventListener(this.is_mobile?"touchstart":"click",t=>{let e=t.target===this.input;return e||(e=t.target===this.wrapper),!e&&t.target.classList.contains("selectm23-selected")&&(e=!0,this.input.focus()),e||(this.hide(this.options),this.hide(this.input),this.unselect_selected()),this.input.value="",this.set_placeholder(!1),!0}),this.input.addEventListener("keyup",t=>{switch(this.show_options(),t.keyCode){case 37:case 39:this.select_option(this.find_next_visible_sibling(this.options.querySelectorAll(".selectm23-option")[0]));break;case 38:case 40:if(this.options.querySelector(".selectm23-option-selected")){let e=this.options.querySelector(".selectm23-option-selected");if(40===t.keyCode){let t=this.find_next_visible_sibling(e);if(t){this.unselect_selected(),this.select_option(t),this.options.scrollTop=t.offsetTop;break}}else{let t=this.find_prev_visible_sibling(e);if(t){this.unselect_selected(),this.select_option(t),this.options.scrollTop=t.offsetTop;break}}}else this.select_option(this.find_next_visible_sibling(this.options.querySelectorAll(".selectm23-option")[0]));break;case 13:if(this.options.querySelector(".selectm23-option-selected")){let e=this.options.querySelector(".selectm23-option-selected");this.add_selected(e)}break;case 27:0<this.input.value.length?(this.input.value="",this.options.querySelectorAll(".selectm23-option").forEach(e=>{this.selected_values.includes(e.getAttribute("data-value"))||this.show(e)})):(this.hide(this.options),this.hide(this.input)),this.unselect_selected();break;default:this.options.querySelectorAll(".selectm23-option").forEach(e=>{0<this.input.value.length?-1===e.innerText.search(new RegExp(this.input.value,"i"))?this.hide(e):!this.selected_values.includes(e.getAttribute("data-value"))&&this.show(e):!this.selected_values.includes(e.getAttribute("data-value"))&&this.show(e)});}return 0<this.input.value.length?this.set_placeholder(!0):this.set_placeholder(!1),!0}),this.set_select_selected_options()}set_select_selected_options(){let t=[],a="";this.select.hasAttribute("data-values")&&(a=this.select.getAttribute("data-values").split(",")),this.select.querySelectorAll("option").forEach(n=>{if(n.hasAttribute("selected"))if(a.length)try{t[n.value]=this.options.querySelector(`[data-value="${n.value}"]`)}catch(a){t["~"+n.value]=this.options.querySelector(`[data-value="${n.value}"]`)}else this.add_selected(n,!1)});for(let e=0;e<a.length;e++)t["~"+a[e]]?this.add_selected(t["~"+a[e]],!1):this.add_selected(t[a[e]],!1);this.use_drag&&(document.addEventListener(this.is_mobile?"touchend":"mouseup",t=>{this.ghost&&(t.preventDefault(),this.delete_ghost(),this.dragged_element=null)}),document.addEventListener(this.is_mobile?"touchmove":"mousemove",t=>{if(this.ghost){let e=t.target;this.is_mobile&&(e=document.elementFromPoint(t.changedTouches[t.changedTouches.length-1].pageX,t.changedTouches[t.changedTouches.length-1].pageY)),e.closest(".selectm23")===this.wrapper&&e.classList.contains("selectm23-selected")&&this.ghost!==e&&(this.find_prev_visible_sibling(this.ghost)===e?e.before(this.ghost):e.after(this.ghost))}}))}hide(e){e.classList.add("selectm23-hidden")}show(e){e.classList.remove("selectm23-hidden")}find_prev_visible_sibling(e){let t=null;return e.previousElementSibling&&(e.previousElementSibling.classList.contains("selectm23-hidden")?t=this.find_prev_visible_sibling(e.previousElementSibling):t=e.previousElementSibling),t}find_next_visible_sibling(e){let t=null;return e.nextElementSibling&&(e.nextElementSibling.classList.contains("selectm23-hidden")?t=this.find_next_visible_sibling(e.nextElementSibling):t=e.nextElementSibling),t}add_selected(e,t=!0){if(e){let a=null;a=e.hasAttribute("data-value")?e.getAttribute("data-value"):e.getAttribute("value");let n=document.createElement("span");n.className="selectm23-selected",n.setAttribute("data-value",a),this.selected_values.push(a),this.select.querySelector(`option[value="${a}"]`)&&this.select.querySelector(`option[value="${a}"]`).setAttribute("selected",""),n.innerHTML=e.innerText,this.hide(e),this.hide(this.options),this.set_placeholder(!0),this.selecton.appendChild(n);let l=document.createElement("span");l.className="selectm23-selected-cross",l.innerHTML="x",n.appendChild(l),t&&this.cast(),n.addEventListener(this.is_mobile?"touchstart":"click",()=>(clearTimeout(this.ghost_delay_timer),this.show_options(),this.input.focus(),!0)),this.use_drag&&n.addEventListener(this.is_mobile?"touchstart":"mousedown",t=>{t.preventDefault(),t.stopPropagation(),this.ghost_delay_timer=setTimeout(()=>{this.hide(this.options),this.create_ghost(n)},223)}),l.addEventListener(this.is_mobile?"touchstart":"click",t=>(t.preventDefault(),t.stopPropagation(),this.selected_values.splice(this.selected_values.indexOf(n.getAttribute("data-value")),1),this.show(this.options.querySelector(`[data-value="${n.getAttribute("data-value")}"]`)),this.select.querySelector(`option[value="${a}"]`).removeAttribute("selected"),n.remove(),this.hide(this.options),this.hide(this.input),this.cast(),clearTimeout(this.ghost_delay_timer),0===this.selecton.querySelectorAll(".selectm23-selected").length&&this.set_placeholder(),!0))}}unselect_selected(){this.options.querySelector(".selectm23-option-selected")&&this.options.querySelector(".selectm23-option-selected").classList.remove("selectm23-option-selected")}select_option(e){e.classList.add("selectm23-option-selected")}show_options(){"undefined"==typeof SelectM23.start_z_index&&(SelectM23.start_z_index=9999),this.options.style.zIndex=SelectM23.start_z_index++,this.show(this.options)}cast(){this.use_drag?this.reorder_values():this.select.dispatchEvent(new Event("change"))}create_ghost(e){this.dragged_element=e,this.ghost=this.dragged_element.cloneNode(!0),this.ghost.classList.add("selectm23-ghost"),this.dragged_element.after(this.ghost),this.hide(this.dragged_element)}delete_ghost(){clearTimeout(this.ghost_delay_timer),this.ghost&&(this.ghost.before(this.dragged_element),this.show(this.dragged_element),this.ghost.remove(),this.ghost=null,this.reorder_values())}reorder_values(){let e=[];this.selecton.querySelectorAll(".selectm23-selected").forEach(t=>{e.push(t.getAttribute("data-value"))}),this.select.getAttribute("data-values")!==e.join(",")&&(this.select.setAttribute("data-values",e.join(",")),this.select.dispatchEvent(new CustomEvent("selectm23-reorder",{detail:{values:this.select.getAttribute("data-values")}})))}set_placeholder(e=!1){this.wrapper.style.background=e?"":`url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' version='1.1' height='50px' width='140px'><text x='5' y='20' font-weight='bold' fill='dimgrey' font-size='16'>${this.placeholder}</text></svg>") no-repeat`}}class Select23{constructor(e,t,a="",n={}){if(this.connect_id=a,this.select=document.createElement("select"),this.container=e,Object.keys(n).length)for(let e in n)this.select.setAttribute(e,n[e]);if(Object.keys(t).length)for(let e in t){let a=document.createElement("option");a.value=e,a.innerText=t[e],this.select.appendChild(a)}e.innerHTML="",e.appendChild(this.select),this.init()}init(){this.select.addEventListener("change",()=>{document.dispatchEvent(new CustomEvent("select23-change",{detail:{connect_id:this.connect_id,value:this.select.value}}))})}}class Popup23{constructor(e={}){"undefined"==typeof Popup23.z_index&&(Popup23.z_index=15003),++Popup23.z_index,this.create(e)}create(e={}){this.node=document.createElement("div");let t=avalon23_helper.create_id("popw-");if(this.node.setAttribute("id",t),this.node.className="avalon23-dynamic-popup-wrapper",this.node.innerHTML=document.querySelector("#avalon23-popup-template").innerHTML,document.querySelector("body").appendChild(this.node),this.node.querySelector(".avalon23-modal").style.zIndex=Popup23.z_index,this.node.querySelector(".avalon23-modal-backdrop").style.zIndex=Popup23.z_index-1,this.node.querySelectorAll(".avalon23-modal-close, .avalon23-modal-button-large-1").forEach(e=>{e.addEventListener("click",t=>(t.stopPropagation(),this.node.remove(),!1))}),"undefined"!=typeof e.iframe&&0<e.iframe.length){let t=document.createElement("iframe");t.className="avalon23-iframe-in-popup",t.height="undefined"==typeof e.height?this.get_content_area_height():e.height,t.frameborder=0,t.allowfullscreen="",t.allow="undefined"==typeof e.allow?"":e.allow,t.src=e.iframe,this.set_content(""),this.append_content(t)}if("undefined"!=typeof e.title&&0<e.title.length&&this.set_title(e.title),"undefined"!=typeof e.width&&(this.node.querySelector(".avalon23-modal").style.maxWidth=e.width+"px"),"undefined"!=typeof e.height&&(this.node.querySelector(".avalon23-modal").style.maxHeight=e.height+"px"),"undefined"!=typeof e.left&&(this.node.querySelector(".avalon23-modal").style.left=e.left+"%"),"undefined"!=typeof e.left&&(this.node.querySelector(".avalon23-modal").style.right=e.right+"%"),"undefined"!=typeof e.action&&0<e.action.length&&document.dispatchEvent(new CustomEvent(e.action,{detail:{...e,...{popup:this}}})),"undefined"!=typeof e.what&&e.what){var a=avalon23_helper_vars.ajax_url;location.search.substr(1)&&(a+="?"+location.search.substr(1)),fetch(a,{method:"POST",credentials:"same-origin",body:avalon23_helper.prepare_ajax_form_data({action:"avalon23_get_smth",what:e.what,posted_id:e.posted_id,lang:avalon23_helper_vars.selected_lang})}).then(e=>e.text()).then(t=>{this.set_content(t),document.dispatchEvent(new CustomEvent("popup-smth-loaded",{detail:{popup:this,content:t,posted_id:e.posted_id,what:e.what}}))}).catch(e=>{avalon23_helper.message(e,"error",5e3)})}return this.node.querySelector(".avalon23-modal-inner-content").addEventListener("scroll",t=>{document.dispatchEvent(new CustomEvent("popup23-scrolling",{detail:{top:t.srcElement.scrollTop,self:this}}));let e=this.node.querySelector(".avalon23-data-table > .table23-wrapper");if(e){let t=e.querySelector(".table23-flow-header");if(t){let a=e.getBoundingClientRect(),n=this.node.querySelector(".avalon23-modal-inner-header").getBoundingClientRect(),l=e.querySelector("table thead tr");a.top<=Math.abs(n.height)/1.5?(t.style.display="block",t.style.width=e.querySelector("table").offsetWidth+10+"px",t.style.top=2*Math.abs(n.height)+Math.abs(a.top)+"px",Array.from(l.querySelectorAll("th")).forEach((e,a)=>{t.querySelectorAll("div")[a].style.width=e.offsetWidth+1+"px",t.querySelectorAll("div")[a].innerHTML=e.innerText})):t.style.display="none"}}}),this.node}set_title(e){this.node.querySelector(".avalon23-modal-title").innerHTML=e}set_title_info(e){this.node.querySelector(".avalon23-modal-title-info").innerHTML=e}set_content(e){this.node.querySelector(".avalon23-form-element-container").innerHTML=e}append_content(e){this.node.querySelector(".avalon23-form-element-container").appendChild(e)}get_content_area_height(){return this.node.querySelector(".avalon23-modal-inner-content").offsetHeight-50}}"use strict",window.addEventListener("load",function(){document.addEventListener("avalon23-filter-is-drawn",t=>{let e=t.detail.filter_elements.querySelectorAll(".avalon23_radio_checkbox_container");for(let a=0;a<e.length;a++)e[a].classList.add("notranslate")},!1),document.querySelectorAll(".avalon23-filter").forEach(function(e){new Avalon23_Filter(e,e.id)}),document.addEventListener("popup-smth-loaded",t=>{let e=t.detail.what;try{"string"==typeof e&&(e=JSON.parse(e))}catch(t){console.log(t)}if(-1===t.detail.posted_id){let e=t.detail.popup.node.querySelector(".avalon23-filter");new Avalon23_Filter(e,e.id)}}),window.addEventListener("offline",function(){avalon23_helper.message(avalon23_helper_vars.lang.offline,"error",-1)}),window.addEventListener("online",function(){avalon23_helper.message(avalon23_helper_vars.lang.online,"notice")}),window.addEventListener("error",function(){})});function avalon23_show_filter(e){let t=e.parentElement.querySelector(".avalon23-filter-list");return t.classList.toggle("avalon23-hidden"),e.innerHTML=t.classList.contains("avalon23-hidden")?avalon23_helper_vars.lang.show_filter:avalon23_helper_vars.lang.hide_filter,!1}function avalon23_adidas_range_slider2(){console.log("yes")}